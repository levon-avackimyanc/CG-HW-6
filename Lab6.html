<!DOCTYPE html>
<html lang="en">
<head>
    <title>Bezie Lines</title>
    <meta charset="UTF-8">
</head>
<body>
<canvas id="lab6" width="800" height="800">
</canvas>
<script src="Lab6.js">
</script>
<script>
    const canvas = document.getElementById("lab6");
    const ctx = canvas.getContext("2d");

    let x1 = 0;
    let y1 = 0;
    let x2 = 400;
    let y2 = 400;
    let x3 = 800;
    let y3 = 800;
    let state = 0;

    canvas.addEventListener("click", function (event) {
        ctx.style = '#1b45de';
        if (state === 0) {
            x1 = event.offsetX;
            y1 = event.offsetY;
            state = 1;
        } else if (state === 1) {
            x2 = event.offsetX;
            y2 = event.offsetY;
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.stroke();
            state = 2
        } else if (state === 2) {
            x3 = event.offsetX;
            y3 = event.offsetY;
            ctx.lineTo(x3, y3);
            ctx.stroke();
            state = 3;
        }

    });

    canvas.addEventListener('contextmenu', function () {
        if (state === 3) {
            ctx.lineWidth = 0.1;

            let flow;
            // Массив координат кривой
            const arr = [];

            arr[0] = [x1, y1];
            arr[1] = [x2, y2];
            arr[2] = [x3, y3];
            flow = getBezieCur([arr[0], arr[1], arr[2]], 0.01);

            drawLines(ctx, flow);
        }
    });

</script>
</body>
</html>